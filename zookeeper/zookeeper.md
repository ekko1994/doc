# zookeeper简介

## 什么是zookeeper？

ZooKeeper是用于维护配置信息，命名，提供分布式同步和提供组服务的集中式服务。所有这些类型的服务都以某种形式被分布式应用程序使用。每次实施它们时，都会进行很多工作来修复不可避免的错误和竞争条件。由于难以实现这类服务，因此应用程序通常最初会在其上跳过，从而使它们在存在更改的情况下变得脆弱并且难以管理。即使部署正确，这些服务的不同实现也会导致管理复杂。

## zookeeper应用场景

zookeeper是一个经典的分布式数据一致性解决方案，致力于为分布式应用提供一个**高性能**、**高可用**、且具有**严格顺序访问**控制能力的分布式协调存储服务。

- 维护配置信息
- 分布式锁服务
- 集群管理
- 生成分布式唯一ID

## zookeeper的数据模型

![](E:\doc\zookeeper\images\zookeeper数据模型.png)

zookeeper的数据节点可以视为树状结构（或目录），书中的各节点被称为znode，一个znode可以有多个子节点。一个znode大体上分为3部分：

- 节点的数据：即znode data（节点path，节点data）的关系就像是map中（key，value）的关系
- 节点的子节点children
- 节点的状态stat：用来描述当前节点的创建、修改记录、包括cZxid、ctime等

### 节点状态stat的属性



### 节点类型

- 临时节点：该节点的生命周期依赖于创建它们的回话。一旦会话（session）结束，临时节点将被自动删除，当然也可以手动删除。虽然每个临时的Znode都会绑定到一个客户端会话，但它们对所有的客户端还是可见的。另外，zookeeper的临时节点不允许拥有子节点。
- 持久化节点：该节点的生命周期不依赖于会话，并且只有在客户端显示执行删除操作的时候，它们才被删除

## zookeeper单机安装

